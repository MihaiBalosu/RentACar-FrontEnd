{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component, Input, Output, EventEmitter } from '@angular/core';\nimport { Validators } from '@angular/forms';\nimport { Car } from 'src/app/model/Car';\nimport { CarTypeEnum } from 'src/app/model/CarTypeEnum';\nimport { FuelTypeEnum } from 'src/app/model/FuelTypeEnum';\nlet CarEditorComponent = class CarEditorComponent {\n  constructor(formBuilder, carHttpService, dialogRef) {\n    this.formBuilder = formBuilder;\n    this.carHttpService = carHttpService;\n    this.dialogRef = dialogRef;\n    this.car = new Car();\n    this.saveCar = new EventEmitter();\n    this.carTypes = Object.values(CarTypeEnum).filter(carType => isNaN(Number(carType)));\n    this.fuelTypes = Object.values(FuelTypeEnum).filter(fuelType => isNaN(Number(fuelType)));\n    this.selectedPhoto = null;\n    this.photoPreviewUrl = null;\n    this.carForm = this.formBuilder.group({\n      name: ['', Validators.required],\n      price: [0, Validators.required],\n      numberOfPassengers: [0, Validators.required],\n      numberOfBags: [0, Validators.required],\n      minimumAgeWithoutFee: [0, Validators.required],\n      automaker: ['', Validators.required],\n      photoPath: [''],\n      automatic: [false],\n      discountApplicable: [false],\n      carDealer: ['', Validators.required],\n      carType: [CarTypeEnum.SEDAN, Validators.required],\n      fuelType: [FuelTypeEnum.GASOLINE, Validators.required] // Set default enum value\n    });\n  }\n\n  ngOnInit() {\n    this.carForm.patchValue(this.car);\n  }\n  onSaveCar() {\n    if (this.carForm.valid) {\n      this.car.automaker = this.carForm.controls['automaker'].value;\n      this.car.price = this.carForm.controls['price'].value;\n      this.car.numberOfPassengers = this.carForm.controls['numberOfPassengers'].value;\n      this.car.numberOfBags = this.carForm.controls['numberOfBags'].value;\n      this.car.minimumAgeWithoutFee = this.carForm.controls['minimumAgeWithoutFee'].value;\n      this.car.photoPath = this.carForm.controls['photoPath'].value;\n      this.car.automatic = this.carForm.controls['automatic'].value;\n      // this.car.carDealer = this.carForm.controls['carDealer'].value;\n      this.car.carType = this.carForm.controls['carType'].value;\n      this.car.fuelType = this.carForm.controls['fuelType'].value;\n      this.carHttpService.save(this.car);\n    }\n  }\n  onPhotoSelected(event) {\n    const inputElement = event.target;\n    if (inputElement.files && inputElement.files.length > 0) {\n      this.selectedPhoto = inputElement.files[0];\n      // Read the selected file and display the preview\n      const reader = new FileReader();\n      reader.onload = () => {\n        this.photoPreviewUrl = reader.result;\n      };\n      reader.readAsDataURL(this.selectedPhoto);\n    }\n  }\n};\n__decorate([Input()], CarEditorComponent.prototype, \"car\", void 0);\n__decorate([Output()], CarEditorComponent.prototype, \"saveCar\", void 0);\nCarEditorComponent = __decorate([Component({\n  selector: 'app-car-editor',\n  templateUrl: './car-editor.component.html',\n  styleUrls: ['./car-editor.component.css']\n})], CarEditorComponent);\nexport { CarEditorComponent };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}