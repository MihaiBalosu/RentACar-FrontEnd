{"ast":null,"code":"import { EventEmitter } from '@angular/core';\nimport { Validators } from '@angular/forms';\nimport { Car } from 'src/app/model/Car';\nimport { CarTypeEnum } from 'src/app/model/CarTypeEnum';\nimport { FuelTypeEnum } from 'src/app/model/FuelTypeEnum';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"@angular/common\";\nfunction CarEditorComponent_option_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 19);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const type_r3 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", type_r3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(type_r3);\n  }\n}\nfunction CarEditorComponent_option_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 19);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const type_r4 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", type_r4);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(type_r4);\n  }\n}\nfunction CarEditorComponent_div_30_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelement(1, \"img\", 20);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"src\", ctx_r2.photoPreviewUrl, i0.ɵɵsanitizeUrl);\n  }\n}\nexport let CarEditorComponent = /*#__PURE__*/(() => {\n  class CarEditorComponent {\n    constructor(formBuilder) {\n      this.formBuilder = formBuilder;\n      this.car = new Car();\n      this.saveCar = new EventEmitter();\n      this.carTypes = this.enumKeys = Object.keys(this.weeks).filter(f => !isNaN(Number(f)));\n      this.fuelTypes = Object.values(FuelTypeEnum);\n      this.selectedPhoto = null;\n      this.photoPreviewUrl = null;\n      this.carForm = this.formBuilder.group({\n        name: ['', Validators.required],\n        price: [0, Validators.required],\n        numberOfPassengers: [0, Validators.required],\n        numberOfBags: [0, Validators.required],\n        minimumAgeWithoutFee: [0, Validators.required],\n        automaker: ['', Validators.required],\n        photoPath: [''],\n        automatic: [false],\n        discountApplicable: [false],\n        carDealer: ['', Validators.required],\n        carType: [CarTypeEnum.SEDAN, Validators.required],\n        fuelType: [FuelTypeEnum.GASOLINE, Validators.required] // Set default enum value\n      });\n    }\n\n    ngOnInit() {\n      this.carForm.patchValue(this.car);\n    }\n    onSaveCar() {\n      if (this.carForm.valid) {\n        const carData = Object.assign(Object.assign({}, this.car), this.carForm.value);\n        this.saveCar.emit(carData);\n      }\n    }\n    onPhotoSelected(event) {\n      const inputElement = event.target;\n      if (inputElement.files && inputElement.files.length > 0) {\n        this.selectedPhoto = inputElement.files[0];\n        // Read the selected file and display the preview\n        const reader = new FileReader();\n        reader.onload = () => {\n          this.photoPreviewUrl = reader.result;\n        };\n        reader.readAsDataURL(this.selectedPhoto);\n      }\n    }\n  }\n  CarEditorComponent.ɵfac = function CarEditorComponent_Factory(t) {\n    return new (t || CarEditorComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder));\n  };\n  CarEditorComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: CarEditorComponent,\n    selectors: [[\"app-car-editor\"]],\n    inputs: {\n      car: \"car\"\n    },\n    outputs: {\n      saveCar: \"saveCar\"\n    },\n    decls: 33,\n    vars: 7,\n    consts: [[3, \"formGroup\"], [\"for\", \"carName\"], [\"id\", \"carName\", \"type\", \"text\", \"formControlName\", \"name\"], [\"for\", \"carDealer\"], [\"id\", \"carDealer\", \"formControlName\", \"carDealer\"], [\"value\", \"dealer1\"], [\"value\", \"dealer2\"], [\"for\", \"carType\"], [\"id\", \"carType\", \"formControlName\", \"carType\"], [\"disabled\", \"\", 3, \"ngValue\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"for\", \"fuelType\"], [\"id\", \"fuelType\", \"formControlName\", \"fuelType\"], [1, \"photo-container\"], [\"for\", \"photoInput\", 1, \"photo-label\"], [\"type\", \"file\", \"id\", \"photoInput\", \"accept\", \"image/*\", 3, \"change\"], [1, \"photo-filename\"], [4, \"ngIf\"], [3, \"click\"], [3, \"value\"], [\"alt\", \"Photo Preview\", 1, \"photo-preview\", 3, \"src\"]],\n    template: function CarEditorComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"form\", 0)(1, \"div\")(2, \"label\", 1);\n        i0.ɵɵtext(3, \"Car Name\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(4, \"input\", 2);\n        i0.ɵɵelementStart(5, \"label\", 3);\n        i0.ɵɵtext(6, \"Car Dealer\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(7, \"select\", 4)(8, \"option\", 5);\n        i0.ɵɵtext(9, \"Dealer 1\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(10, \"option\", 6);\n        i0.ɵɵtext(11, \"Dealer 2\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(12, \"label\", 7);\n        i0.ɵɵtext(13, \"Car Type\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(14, \"select\", 8)(15, \"option\", 9);\n        i0.ɵɵtext(16, \"Select Car Type\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(17, CarEditorComponent_option_17_Template, 2, 2, \"option\", 10);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(18, \"label\", 11);\n        i0.ɵɵtext(19, \"Fuel Type\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(20, \"select\", 12)(21, \"option\", 9);\n        i0.ɵɵtext(22, \"Select Fuel Type\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(23, CarEditorComponent_option_23_Template, 2, 2, \"option\", 10);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(24, \"div\", 13)(25, \"label\", 14);\n        i0.ɵɵtext(26, \"Attach Photo\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(27, \"input\", 15);\n        i0.ɵɵlistener(\"change\", function CarEditorComponent_Template_input_change_27_listener($event) {\n          return ctx.onPhotoSelected($event);\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(28, \"span\", 16);\n        i0.ɵɵtext(29);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵtemplate(30, CarEditorComponent_div_30_Template, 2, 1, \"div\", 17);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(31, \"button\", 18);\n        i0.ɵɵlistener(\"click\", function CarEditorComponent_Template_button_click_31_listener() {\n          return ctx.onSaveCar();\n        });\n        i0.ɵɵtext(32, \"Save\");\n        i0.ɵɵelementEnd()();\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"formGroup\", ctx.carForm);\n        i0.ɵɵadvance(15);\n        i0.ɵɵproperty(\"ngValue\", null);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngForOf\", ctx.carTypes);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngValue\", null);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngForOf\", ctx.fuelTypes);\n        i0.ɵɵadvance(6);\n        i0.ɵɵtextInterpolate(ctx.selectedPhoto == null ? null : ctx.selectedPhoto.name);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.photoPreviewUrl);\n      }\n    },\n    dependencies: [i2.NgForOf, i2.NgIf, i1.ɵNgNoValidate, i1.NgSelectOption, i1.ɵNgSelectMultipleOption, i1.DefaultValueAccessor, i1.SelectControlValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.FormControlName],\n    styles: [\"form[_ngcontent-%COMP%]{display:flex;flex-direction:column;max-width:400px;margin:0 auto;padding:20px;border:1px solid #ddd;border-radius:5px;box-shadow:0 2px 4px #0000001a}label[_ngcontent-%COMP%]{margin-top:10px;font-weight:700}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{margin-bottom:15px;padding:8px;border:1px solid #ccc;border-radius:5px;width:100%}button[_ngcontent-%COMP%]{padding:10px 20px;background-color:#4caf50;color:#fff;border:none;border-radius:5px;cursor:pointer}button[_ngcontent-%COMP%]:hover{background-color:#45a049}div[_ngcontent-%COMP%]:not(:last-child){margin-bottom:20px}#photoInput[_ngcontent-%COMP%]{display:none}.photo-container[_ngcontent-%COMP%]{display:flex;align-items:center}.photo-label[_ngcontent-%COMP%]{cursor:pointer;padding:8px 12px;background-color:#4caf50;color:#fff;border-radius:5px}.photo-filename[_ngcontent-%COMP%]{margin-left:10px}.photo-preview[_ngcontent-%COMP%]{max-width:100%;margin-top:10px;border:1px solid #ccc;border-radius:5px;box-shadow:0 2px 4px #0000001a}\"]\n  });\n  return CarEditorComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}